"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getBody = exports.hasBody = exports.isMultipart = exports.matchType = void 0;
const typeIs = require("type-is");
const http_1 = require("@marblejs/core/dist/+internal/http");
const observable_1 = require("@marblejs/core/dist/+internal/observable");
const operators_1 = require("rxjs/operators");
exports.matchType = (type) => (req) => !!typeIs.is(http_1.getContentType(req.headers), type);
exports.isMultipart = (req) => http_1.getContentType(req.headers).includes('multipart/');
exports.hasBody = (req) => req.body !== undefined && req.body !== null;
exports.getBody = (req) => observable_1.fromReadableStream(req).pipe(operators_1.toArray(), operators_1.map(chunks => Buffer.concat(chunks)));
