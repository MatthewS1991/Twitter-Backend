"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.use = void 0;
const rxjs_1 = require("rxjs");
const operators_1 = require("rxjs/operators");
exports.use = (middleware, effectContext) => (source$) => source$.pipe(operators_1.mergeMap(req => middleware(rxjs_1.of(req), effectContext)));
