"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.r = void 0;
const effects_combiner_1 = require("../../effects/effects.combiner");
const IxBuilder_1 = require("../../+internal/fp/IxBuilder");
const route = new IxBuilder_1.IxBuilder({});
const matchPath = (path) => IxBuilder_1.ichainCurry((spec) => new IxBuilder_1.IxBuilder(Object.assign(Object.assign({}, spec), { path })));
const matchType = (method) => IxBuilder_1.ichainCurry((spec) => new IxBuilder_1.IxBuilder(Object.assign(Object.assign({}, spec), { method })));
const use = (middleware) => IxBuilder_1.ichainCurry((spec) => new IxBuilder_1.IxBuilder(Object.assign(Object.assign({}, spec), { middleware: spec.middleware
        ? effects_combiner_1.combineMiddlewares(spec.middleware, middleware)
        : middleware })));
const useEffect = (effect) => IxBuilder_1.ichainCurry((spec) => new IxBuilder_1.IxBuilder(Object.assign(Object.assign({}, spec), { effect })));
const applyMeta = (meta) => IxBuilder_1.ichainCurry((spec) => new IxBuilder_1.IxBuilder(Object.assign(Object.assign({}, spec), { meta: Object.assign(Object.assign({}, spec.meta), meta) })));
function pipe(...fns) {
    return fns.reduce((prevFn, nextFn) => value => nextFn(prevFn(value)), value => value)(route).run();
}
exports.r = { matchPath, matchType, use, useEffect, applyMeta, pipe };
